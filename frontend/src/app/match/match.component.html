<div *ngIf="errorMessage.message" class="error-message">
  <div>
    {{ errorMessage.title }}
  </div>
  <div>
    {{ errorMessage.message }}
  </div>
</div>

<div
  *ngIf="match"
  class=" h-[100vh] flex flex-col gap-2 mx-auto items-center"
>
  <div class=" flex flex-col mx-auto items-center gap-2">
    <div>
      <img
        class="h-[450px] w-[350px]"
        [src]="match.answer.imageUrls[0]"
        alt="First Image"
      />
    </div>
    <div class="w-full flex justify-between gal-10 flex-wrap">
      <input
        [(ngModel)]="searchQuery"
        (input)="onSearch()"
        id="search"
        class="h-12 mb-4 w-full rounded-lg-lg px-5 text-lg"
        type="text"
        placeholder="Search for a videogame"
      />
      <button class="  shadow-inner-buttons h-10 w-1/3 text-white px-5 bg-amber-600 text-lg">
        Skip!
      </button>
      <button
        class="h-10 shadow-inner-buttons w-1/2 text-white px-5 bg-blue-600 text-lg"
        (click)="onGuessClick()"
      >
        Guess
      </button>
    </div>
  </div>
  <div class="w-full mt-4">
    <div class="text-white text-md">
      <div class="flex justify-center  gap-5 ">
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Name
        </div>
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Released
        </div>
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Platforms
        </div>
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Genres
        </div>
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Publishers
        </div>
        <div class="  w-[200px] flex px-4 items-center justify-center h-20">
          Developers
        </div>
    </div>
      <div class="flex justify-center georgia gap-5 mb-5" *ngFor="let attempt of match.attempts">
          <div [ngStyle]="{ 'background-color': attempt.name === match.answer.name ? 'green' : '#D91515' }" class="rounded-lg border-2 shadow-inner-corners  border-white  text-lg max-h-[150px] w-[200px] p-5 overflow-scroll break-words text-center   ">
            {{ attempt.name }}
          </div>
          <div [ngStyle]="{ 'background-color': attempt.released.slice(0,4) === match.answer.released.slice(0,4) ? 'green' : '#D91515' }" class="bg-[#D91515] rounded-lg border-2 shadow-inner-corners  border-white text-lg max-h-[150px] w-[200px] p-5 overflow-x-scroll break-words text-center  ">
            {{ attempt.released.slice(0,4) }}
          </div>
          <div
          [ngStyle]="{ 'background-color': getBackgroundColor(attempt.platforms, match.answer.platforms)}"
          class="rounded-lg border-2 shadow-inner-corners  border-white text-lg max-h-[150px] w-[200px] p-5 overflow-scroll break-words">
            {{ attempt.platforms }}
          </div>
          <div [ngStyle]="{ 'background-color': getBackgroundColor(attempt.genres, match.answer.genres)}" class="rounded-lg border-2 shadow-inner-corners  border-white text-lg max-h-[150px] w-[200px] p-5 overflow-scroll text-center break-words">
            {{ attempt.genres}}
          </div>
          <div [ngStyle]="{ 'background-color': getBackgroundColor(attempt.publishers, match.answer.publishers)}" class=" rounded-lg border-2 shadow-inner-corners  border-white text-lg max-h-[150px] w-[200px] p-5 overflow-scroll text-center break-words">
            {{ attempt.publishers }}
          </div>
          <div [ngStyle]="{ 'background-color': getBackgroundColor(attempt.developers, match.answer.developers)}" class="rounded-lg border-2 shadow-inner-corners  border-white text-lg max-h-[150px] w-[200px] p-5 overflow-scroll break-words text-center">
            {{ attempt.developers }}
          </div>
      </div>
    </div>
  </div>
</div>
